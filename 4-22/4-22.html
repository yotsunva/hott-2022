<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>4-22</title><link rel="stylesheet" href="Agda.css"></head><body><pre><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Option">--without-K</a> <a id="25" class="Option">--safe</a> <a id="32" class="Symbol">#-}</a>

<a id="37" class="Comment">-- Π-type について</a>

<a id="53" class="Comment">-- 余談</a>
<a id="59" class="Comment">-- Π-type は inductive type ではない（どちらかと言うと coinductive 寄り）。</a>
<a id="117" class="Comment">-- 関数適用という除去則を主軸として、それに対応する導入則（λ抽象）が与えられている。</a>
<a id="162" class="Comment">-- ほとんどの型理論には Π-type（あるいは関数型）が備わっていて、最も基本的な型の構成方法と言える。</a>
<a id="217" class="Comment">-- 単純型付きλ計算 (STLC) から Calculus of Constructions (CoC) に至るまでの型理論 (λ-cube) はほぼ Π-type（あるいは関数型）のみで成り立っており、CoC に近づいてくると非可述性のおかげで inductive type を使わなくても多様な型を表現できる。</a>
<a id="376" class="Comment">-- ある程度可述的な体系（Martin-Loef Type Theory (MLTT), predicative Calculus of Inductive Constructions (pCIC) など）においては Π-type だけでは表現しにくい型があるので、これらの型理論においては inductive type も備わっている。</a>

<a id="548" class="Comment">-- Agda において Π-type は primitive なのであまり意味はないが、Π-type を再定義する。</a>
<a id="608" class="Keyword">record</a> <a id="Π"></a><a id="615" href="4-22.html#615" class="Record">Π</a> <a id="617" class="Symbol">(</a><a id="618" href="4-22.html#618" class="Bound">B</a> <a id="620" class="Symbol">:</a> <a id="622" class="PrimitiveType">Set</a><a id="625" class="Symbol">)</a> <a id="627" class="Symbol">(</a><a id="628" href="4-22.html#628" class="Bound">E</a> <a id="630" class="Symbol">:</a> <a id="632" href="4-22.html#618" class="Bound">B</a> <a id="634" class="Symbol">→</a> <a id="636" class="PrimitiveType">Set</a><a id="639" class="Symbol">)</a> <a id="641" class="Symbol">:</a> <a id="643" class="PrimitiveType">Set</a> <a id="647" class="Keyword">where</a>
  <a id="655" class="Keyword">constructor</a> <a id="Π.lam"></a><a id="667" href="4-22.html#667" class="InductiveConstructor">lam</a>  <a id="672" class="Comment">-- 導入則</a>
  <a id="681" class="Keyword">field</a>
    <a id="Π.app"></a><a id="691" href="4-22.html#691" class="Field">app</a> <a id="695" class="Symbol">:</a> <a id="697" class="Symbol">(</a><a id="698" href="4-22.html#698" class="Bound">x</a> <a id="700" class="Symbol">:</a> <a id="702" href="4-22.html#618" class="Bound">B</a><a id="703" class="Symbol">)</a> <a id="705" class="Symbol">→</a> <a id="707" href="4-22.html#628" class="Bound">E</a> <a id="709" href="4-22.html#698" class="Bound">x</a>  <a id="712" class="Comment">-- 除去則</a>
<a id="719" class="Keyword">open</a> <a id="724" href="4-22.html#615" class="Module">Π</a>
<a id="726" class="Keyword">syntax</a> <a id="733" href="4-22.html#615" class="Record">Π</a> B <a id="737" class="Symbol">(λ</a> x <a id="742" class="Symbol">→</a> E-x<a id="747" class="Symbol">)</a> <a id="749" class="Symbol">=</a> Π x ː B , E-x

<a id="766" class="Comment">-- 導入則の確認</a>
<a id="Π-intro"></a><a id="776" href="4-22.html#776" class="Function">Π-intro</a> <a id="784" class="Symbol">:</a> <a id="786" class="Symbol">{</a><a id="787" href="4-22.html#787" class="Bound">B</a> <a id="789" class="Symbol">:</a> <a id="791" class="PrimitiveType">Set</a><a id="794" class="Symbol">}</a> <a id="796" class="Symbol">{</a><a id="797" href="4-22.html#797" class="Bound">E</a> <a id="799" class="Symbol">:</a> <a id="801" href="4-22.html#787" class="Bound">B</a> <a id="803" class="Symbol">→</a> <a id="805" class="PrimitiveType">Set</a><a id="808" class="Symbol">}</a> <a id="810" class="Symbol">→</a> <a id="812" class="Symbol">((</a><a id="814" href="4-22.html#814" class="Bound">x</a> <a id="816" class="Symbol">:</a> <a id="818" href="4-22.html#787" class="Bound">B</a><a id="819" class="Symbol">)</a> <a id="821" class="Symbol">→</a> <a id="823" href="4-22.html#797" class="Bound">E</a> <a id="825" href="4-22.html#814" class="Bound">x</a><a id="826" class="Symbol">)</a> <a id="828" class="Symbol">→</a> <a id="830" href="4-22.html#615" class="Record">Π</a> <a id="832" href="4-22.html#832" class="Bound">x</a> <a id="834" href="4-22.html#615" class="Record">ː</a> <a id="836" href="4-22.html#787" class="Bound">B</a> <a id="838" href="4-22.html#615" class="Record">,</a> <a id="840" href="4-22.html#797" class="Bound">E</a> <a id="842" href="4-22.html#832" class="Bound">x</a>
<a id="844" class="Comment">-- (x : B) → E x は実質的に x : B ⊢ _ : E x を意味している。</a>
<a id="892" href="4-22.html#776" class="Function">Π-intro</a> <a id="900" href="4-22.html#900" class="Bound">s</a> <a id="902" class="Symbol">=</a> <a id="904" href="4-22.html#667" class="InductiveConstructor">lam</a> <a id="908" href="4-22.html#900" class="Bound">s</a>

<a id="911" class="Comment">-- 除去則の確認</a>
<a id="Π-elim"></a><a id="921" href="4-22.html#921" class="Function">Π-elim</a> <a id="928" class="Symbol">:</a> <a id="930" class="Symbol">{</a><a id="931" href="4-22.html#931" class="Bound">B</a> <a id="933" class="Symbol">:</a> <a id="935" class="PrimitiveType">Set</a><a id="938" class="Symbol">}</a> <a id="940" class="Symbol">{</a><a id="941" href="4-22.html#941" class="Bound">E</a> <a id="943" class="Symbol">:</a> <a id="945" href="4-22.html#931" class="Bound">B</a> <a id="947" class="Symbol">→</a> <a id="949" class="PrimitiveType">Set</a><a id="952" class="Symbol">}</a> <a id="954" class="Symbol">→</a> <a id="956" href="4-22.html#615" class="Record">Π</a> <a id="958" href="4-22.html#958" class="Bound">x</a> <a id="960" href="4-22.html#615" class="Record">ː</a> <a id="962" href="4-22.html#931" class="Bound">B</a> <a id="964" href="4-22.html#615" class="Record">,</a> <a id="966" href="4-22.html#941" class="Bound">E</a> <a id="968" href="4-22.html#958" class="Bound">x</a> <a id="970" class="Symbol">→</a> <a id="972" class="Symbol">(</a><a id="973" href="4-22.html#973" class="Bound">x</a> <a id="975" class="Symbol">:</a> <a id="977" href="4-22.html#931" class="Bound">B</a><a id="978" class="Symbol">)</a> <a id="980" class="Symbol">→</a> <a id="982" href="4-22.html#941" class="Bound">E</a> <a id="984" href="4-22.html#973" class="Bound">x</a>
<a id="986" href="4-22.html#921" class="Function">Π-elim</a> <a id="993" href="4-22.html#993" class="Bound">f</a> <a id="995" href="4-22.html#995" class="Bound">b</a> <a id="997" class="Symbol">=</a> <a id="999" href="4-22.html#691" class="Field">app</a> <a id="1003" href="4-22.html#993" class="Bound">f</a> <a id="1005" href="4-22.html#995" class="Bound">b</a>

<a id="1008" class="Comment">-- non-dependent function type</a>
<a id="1039" class="Comment">-- type family E を constant にすればよい</a>
<a id="_⇒_"></a><a id="1074" href="4-22.html#1074" class="Function Operator">_⇒_</a> <a id="1078" class="Symbol">:</a> <a id="1080" class="Symbol">(</a><a id="1081" href="4-22.html#1081" class="Bound">B</a> <a id="1083" href="4-22.html#1083" class="Bound">A</a> <a id="1085" class="Symbol">:</a> <a id="1087" class="PrimitiveType">Set</a><a id="1090" class="Symbol">)</a> <a id="1092" class="Symbol">→</a> <a id="1094" class="PrimitiveType">Set</a>
<a id="1098" href="4-22.html#1074" class="Function Operator">_⇒_</a> <a id="1102" href="4-22.html#1102" class="Bound">B</a> <a id="1104" href="4-22.html#1104" class="Bound">A</a> <a id="1106" class="Symbol">=</a> <a id="1108" href="4-22.html#615" class="Record">Π</a> <a id="1110" href="4-22.html#1110" class="Bound">x</a> <a id="1112" href="4-22.html#615" class="Record">ː</a> <a id="1114" href="4-22.html#1102" class="Bound">B</a> <a id="1116" href="4-22.html#615" class="Record">,</a> <a id="1118" href="4-22.html#1104" class="Bound">A</a>

<a id="1121" class="Comment">-- 恒等関数の定義</a>
<a id="id"></a><a id="1132" href="4-22.html#1132" class="Function">id</a> <a id="1135" class="Symbol">:</a> <a id="1137" class="Symbol">{</a><a id="1138" href="4-22.html#1138" class="Bound">A</a> <a id="1140" class="Symbol">:</a> <a id="1142" class="PrimitiveType">Set</a><a id="1145" class="Symbol">}</a> <a id="1147" class="Symbol">→</a> <a id="1149" href="4-22.html#1138" class="Bound">A</a> <a id="1151" href="4-22.html#1074" class="Function Operator">⇒</a> <a id="1153" href="4-22.html#1138" class="Bound">A</a>
<a id="1155" href="4-22.html#1132" class="Function">id</a> <a id="1158" class="Symbol">=</a> <a id="1160" href="4-22.html#667" class="InductiveConstructor">lam</a> <a id="1164" class="Symbol">λ</a> <a id="1166" href="4-22.html#1166" class="Bound">x</a> <a id="1168" class="Symbol">→</a> <a id="1170" href="4-22.html#1166" class="Bound">x</a>
<a id="1172" class="Comment">-- λ x → x は実質的に x : A ⊢ x : A を意味している。</a>

<a id="1213" class="Comment">-- これ以降は Π, ⇒ を使わずに primitive で済ませることにする。</a>


<a id="1257" class="Comment">-- inductive type について</a>

<a id="1281" class="Comment">-- inductive type は複数の構成子（導入則）から自由に生成される型。構成子を与えれば対応する除去則が自動的に決まる。</a>
<a id="1348" class="Comment">-- その除去則は inductive type が自由生成されていることの保証になるように定まっている。</a>
<a id="1402" class="Comment">-- 除去則の内容は、「inductive type X から他の型 C への関数（一般には dependent function）を定めたければ、構成子の行き先を定めれば十分である」というものである。</a>

<a id="1505" class="Comment">-- 自然数の型</a>
<a id="1514" class="Keyword">data</a> <a id="ℕ"></a><a id="1519" href="4-22.html#1519" class="Datatype">ℕ</a> <a id="1521" class="Symbol">:</a> <a id="1523" class="PrimitiveType">Set</a> <a id="1527" class="Keyword">where</a>
  <a id="ℕ.z"></a><a id="1535" href="4-22.html#1535" class="InductiveConstructor">z</a> <a id="1537" class="Symbol">:</a> <a id="1539" href="4-22.html#1519" class="Datatype">ℕ</a>
  <a id="ℕ.s"></a><a id="1543" href="4-22.html#1543" class="InductiveConstructor">s</a> <a id="1545" class="Symbol">:</a> <a id="1547" href="4-22.html#1519" class="Datatype">ℕ</a> <a id="1549" class="Symbol">→</a> <a id="1551" href="4-22.html#1519" class="Datatype">ℕ</a>

<a id="1554" class="Comment">-- Agda には pattern matching に関して良い機能が備わっているので rec のようなものを使うことは少ないが、定義しておく。</a>

<a id="ℕ-rec"></a><a id="1630" href="4-22.html#1630" class="Function">ℕ-rec</a> <a id="1636" class="Symbol">:</a> <a id="1638" class="Symbol">{</a><a id="1639" href="4-22.html#1639" class="Bound">E</a> <a id="1641" class="Symbol">:</a> <a id="1643" href="4-22.html#1519" class="Datatype">ℕ</a> <a id="1645" class="Symbol">→</a> <a id="1647" class="PrimitiveType">Set</a><a id="1650" class="Symbol">}</a> <a id="1652" class="Symbol">→</a> <a id="1654" href="4-22.html#1639" class="Bound">E</a> <a id="1656" href="4-22.html#1535" class="InductiveConstructor">z</a> <a id="1658" class="Symbol">→</a> <a id="1660" class="Symbol">((</a><a id="1662" href="4-22.html#1662" class="Bound">x</a> <a id="1664" class="Symbol">:</a> <a id="1666" href="4-22.html#1519" class="Datatype">ℕ</a><a id="1667" class="Symbol">)</a> <a id="1669" class="Symbol">→</a> <a id="1671" class="Symbol">(</a><a id="1672" href="4-22.html#1672" class="Bound">y</a> <a id="1674" class="Symbol">:</a> <a id="1676" href="4-22.html#1639" class="Bound">E</a> <a id="1678" href="4-22.html#1662" class="Bound">x</a><a id="1679" class="Symbol">)</a> <a id="1681" class="Symbol">→</a> <a id="1683" href="4-22.html#1639" class="Bound">E</a> <a id="1685" class="Symbol">(</a><a id="1686" href="4-22.html#1543" class="InductiveConstructor">s</a> <a id="1688" href="4-22.html#1662" class="Bound">x</a><a id="1689" class="Symbol">))</a> <a id="1692" class="Symbol">→</a> <a id="1694" class="Symbol">((</a><a id="1696" href="4-22.html#1696" class="Bound">x</a> <a id="1698" class="Symbol">:</a> <a id="1700" href="4-22.html#1519" class="Datatype">ℕ</a><a id="1701" class="Symbol">)</a> <a id="1703" class="Symbol">→</a> <a id="1705" href="4-22.html#1639" class="Bound">E</a> <a id="1707" href="4-22.html#1696" class="Bound">x</a><a id="1708" class="Symbol">)</a>
<a id="1710" href="4-22.html#1630" class="Function">ℕ-rec</a> <a id="1716" href="4-22.html#1716" class="Bound">e</a> <a id="1718" href="4-22.html#1718" class="Bound">f</a> <a id="1720" href="4-22.html#1535" class="InductiveConstructor">z</a> <a id="1722" class="Symbol">=</a> <a id="1724" href="4-22.html#1716" class="Bound">e</a>
<a id="1726" href="4-22.html#1630" class="Function">ℕ-rec</a> <a id="1732" href="4-22.html#1732" class="Bound">e</a> <a id="1734" href="4-22.html#1734" class="Bound">f</a> <a id="1736" class="Symbol">(</a><a id="1737" href="4-22.html#1543" class="InductiveConstructor">s</a> <a id="1739" href="4-22.html#1739" class="Bound">x</a><a id="1740" class="Symbol">)</a> <a id="1742" class="Symbol">=</a> <a id="1744" href="4-22.html#1734" class="Bound">f</a> <a id="1746" href="4-22.html#1739" class="Bound">x</a> <a id="1748" class="Symbol">(</a><a id="1749" href="4-22.html#1630" class="Function">ℕ-rec</a> <a id="1755" href="4-22.html#1732" class="Bound">e</a> <a id="1757" href="4-22.html#1734" class="Bound">f</a> <a id="1759" href="4-22.html#1739" class="Bound">x</a><a id="1760" class="Symbol">)</a>

<a id="1763" class="Comment">-- 加法は pattern matching を使って次のように定められる。</a>
<a id="ℕ-add"></a><a id="1803" href="4-22.html#1803" class="Function">ℕ-add</a> <a id="1809" class="Symbol">:</a> <a id="1811" href="4-22.html#1519" class="Datatype">ℕ</a> <a id="1813" class="Symbol">→</a> <a id="1815" href="4-22.html#1519" class="Datatype">ℕ</a> <a id="1817" class="Symbol">→</a> <a id="1819" href="4-22.html#1519" class="Datatype">ℕ</a>
<a id="1821" href="4-22.html#1803" class="Function">ℕ-add</a> <a id="1827" href="4-22.html#1827" class="Bound">m</a> <a id="1829" href="4-22.html#1535" class="InductiveConstructor">z</a> <a id="1831" class="Symbol">=</a> <a id="1833" href="4-22.html#1827" class="Bound">m</a>
<a id="1835" href="4-22.html#1803" class="Function">ℕ-add</a> <a id="1841" href="4-22.html#1841" class="Bound">m</a> <a id="1843" class="Symbol">(</a><a id="1844" href="4-22.html#1543" class="InductiveConstructor">s</a> <a id="1846" href="4-22.html#1846" class="Bound">n</a><a id="1847" class="Symbol">)</a> <a id="1849" class="Symbol">=</a> <a id="1851" href="4-22.html#1543" class="InductiveConstructor">s</a> <a id="1853" class="Symbol">(</a><a id="1854" href="4-22.html#1803" class="Function">ℕ-add</a> <a id="1860" href="4-22.html#1841" class="Bound">m</a> <a id="1862" href="4-22.html#1846" class="Bound">n</a><a id="1863" class="Symbol">)</a>

<a id="1866" class="Comment">-- 色々な inductive type</a>

<a id="1889" class="Keyword">data</a> <a id="Unit"></a><a id="1894" href="4-22.html#1894" class="Datatype">Unit</a> <a id="1899" class="Symbol">:</a> <a id="1901" class="PrimitiveType">Set</a> <a id="1905" class="Keyword">where</a>
  <a id="Unit.star"></a><a id="1913" href="4-22.html#1913" class="InductiveConstructor">star</a> <a id="1918" class="Symbol">:</a> <a id="1920" href="4-22.html#1894" class="Datatype">Unit</a>

<a id="Unit-rec"></a><a id="1926" href="4-22.html#1926" class="Function">Unit-rec</a> <a id="1935" class="Symbol">:</a> <a id="1937" class="Symbol">{</a><a id="1938" href="4-22.html#1938" class="Bound">E</a> <a id="1940" class="Symbol">:</a> <a id="1942" href="4-22.html#1894" class="Datatype">Unit</a> <a id="1947" class="Symbol">→</a> <a id="1949" class="PrimitiveType">Set</a><a id="1952" class="Symbol">}</a> <a id="1954" class="Symbol">→</a> <a id="1956" href="4-22.html#1938" class="Bound">E</a> <a id="1958" href="4-22.html#1913" class="InductiveConstructor">star</a> <a id="1963" class="Symbol">→</a> <a id="1965" class="Symbol">((</a><a id="1967" href="4-22.html#1967" class="Bound">x</a> <a id="1969" class="Symbol">:</a> <a id="1971" href="4-22.html#1894" class="Datatype">Unit</a><a id="1975" class="Symbol">)</a> <a id="1977" class="Symbol">→</a> <a id="1979" href="4-22.html#1938" class="Bound">E</a> <a id="1981" href="4-22.html#1967" class="Bound">x</a><a id="1982" class="Symbol">)</a>
<a id="1984" href="4-22.html#1926" class="Function">Unit-rec</a> <a id="1993" href="4-22.html#1993" class="Bound">e</a> <a id="1995" href="4-22.html#1913" class="InductiveConstructor">star</a> <a id="2000" class="Symbol">=</a> <a id="2002" href="4-22.html#1993" class="Bound">e</a>

<a id="2005" class="Keyword">data</a> <a id="Bool"></a><a id="2010" href="4-22.html#2010" class="Datatype">Bool</a> <a id="2015" class="Symbol">:</a> <a id="2017" class="PrimitiveType">Set</a> <a id="2021" class="Keyword">where</a>
  <a id="Bool.tt"></a><a id="2029" href="4-22.html#2029" class="InductiveConstructor">tt</a> <a id="Bool.ff"></a><a id="2032" href="4-22.html#2032" class="InductiveConstructor">ff</a> <a id="2035" class="Symbol">:</a> <a id="2037" href="4-22.html#2010" class="Datatype">Bool</a>

<a id="Bool-rec"></a><a id="2043" href="4-22.html#2043" class="Function">Bool-rec</a> <a id="2052" class="Symbol">:</a> <a id="2054" class="Symbol">{</a><a id="2055" href="4-22.html#2055" class="Bound">E</a> <a id="2057" class="Symbol">:</a> <a id="2059" href="4-22.html#2010" class="Datatype">Bool</a> <a id="2064" class="Symbol">→</a> <a id="2066" class="PrimitiveType">Set</a><a id="2069" class="Symbol">}</a> <a id="2071" class="Symbol">→</a> <a id="2073" href="4-22.html#2055" class="Bound">E</a> <a id="2075" href="4-22.html#2029" class="InductiveConstructor">tt</a> <a id="2078" class="Symbol">→</a> <a id="2080" href="4-22.html#2055" class="Bound">E</a> <a id="2082" href="4-22.html#2032" class="InductiveConstructor">ff</a> <a id="2085" class="Symbol">→</a> <a id="2087" class="Symbol">((</a><a id="2089" href="4-22.html#2089" class="Bound">x</a> <a id="2091" class="Symbol">:</a> <a id="2093" href="4-22.html#2010" class="Datatype">Bool</a><a id="2097" class="Symbol">)</a> <a id="2099" class="Symbol">→</a> <a id="2101" href="4-22.html#2055" class="Bound">E</a> <a id="2103" href="4-22.html#2089" class="Bound">x</a><a id="2104" class="Symbol">)</a>
<a id="2106" href="4-22.html#2043" class="Function">Bool-rec</a> <a id="2115" href="4-22.html#2115" class="Bound">a</a> <a id="2117" href="4-22.html#2117" class="Bound">b</a> <a id="2119" href="4-22.html#2029" class="InductiveConstructor">tt</a> <a id="2122" class="Symbol">=</a> <a id="2124" href="4-22.html#2115" class="Bound">a</a>
<a id="2126" href="4-22.html#2043" class="Function">Bool-rec</a> <a id="2135" href="4-22.html#2135" class="Bound">a</a> <a id="2137" href="4-22.html#2137" class="Bound">b</a> <a id="2139" href="4-22.html#2032" class="InductiveConstructor">ff</a> <a id="2142" class="Symbol">=</a> <a id="2144" href="4-22.html#2137" class="Bound">b</a>

<a id="2147" class="Keyword">data</a> <a id="Empty"></a><a id="2152" href="4-22.html#2152" class="Datatype">Empty</a> <a id="2158" class="Symbol">:</a> <a id="2160" class="PrimitiveType">Set</a> <a id="2164" class="Keyword">where</a>

<a id="2171" class="Comment">-- 爆発律</a>
<a id="Empty-rec"></a><a id="2178" href="4-22.html#2178" class="Function">Empty-rec</a> <a id="2188" class="Symbol">:</a> <a id="2190" class="Symbol">{</a><a id="2191" href="4-22.html#2191" class="Bound">E</a> <a id="2193" class="Symbol">:</a> <a id="2195" href="4-22.html#2152" class="Datatype">Empty</a> <a id="2201" class="Symbol">→</a> <a id="2203" class="PrimitiveType">Set</a><a id="2206" class="Symbol">}</a> <a id="2208" class="Symbol">→</a> <a id="2210" class="Symbol">((</a><a id="2212" href="4-22.html#2212" class="Bound">x</a> <a id="2214" class="Symbol">:</a> <a id="2216" href="4-22.html#2152" class="Datatype">Empty</a><a id="2221" class="Symbol">)</a> <a id="2223" class="Symbol">→</a> <a id="2225" href="4-22.html#2191" class="Bound">E</a> <a id="2227" href="4-22.html#2212" class="Bound">x</a><a id="2228" class="Symbol">)</a>
<a id="2230" href="4-22.html#2178" class="Function">Empty-rec</a> <a id="2240" class="Symbol">()</a>  <a id="2244" class="Comment">--（0個の）構成子の行き先を定めた。</a>

<a id="2265" class="Keyword">data</a> <a id="_+_"></a><a id="2270" href="4-22.html#2270" class="Datatype Operator">_+_</a> <a id="2274" class="Symbol">(</a><a id="2275" href="4-22.html#2275" class="Bound">A</a> <a id="2277" href="4-22.html#2277" class="Bound">B</a> <a id="2279" class="Symbol">:</a> <a id="2281" class="PrimitiveType">Set</a><a id="2284" class="Symbol">)</a> <a id="2286" class="Symbol">:</a> <a id="2288" class="PrimitiveType">Set</a> <a id="2292" class="Keyword">where</a>
  <a id="_+_.inl"></a><a id="2300" href="4-22.html#2300" class="InductiveConstructor">inl</a> <a id="2304" class="Symbol">:</a> <a id="2306" href="4-22.html#2275" class="Bound">A</a> <a id="2308" class="Symbol">→</a> <a id="2310" href="4-22.html#2275" class="Bound">A</a> <a id="2312" href="4-22.html#2270" class="Datatype Operator">+</a> <a id="2314" href="4-22.html#2277" class="Bound">B</a>
  <a id="_+_.inr"></a><a id="2318" href="4-22.html#2318" class="InductiveConstructor">inr</a> <a id="2322" class="Symbol">:</a> <a id="2324" href="4-22.html#2277" class="Bound">B</a> <a id="2326" class="Symbol">→</a> <a id="2328" href="4-22.html#2275" class="Bound">A</a> <a id="2330" href="4-22.html#2270" class="Datatype Operator">+</a> <a id="2332" href="4-22.html#2277" class="Bound">B</a>

<a id="+-rec"></a><a id="2335" href="4-22.html#2335" class="Function">+-rec</a> <a id="2341" class="Symbol">:</a> <a id="2343" class="Symbol">{</a><a id="2344" href="4-22.html#2344" class="Bound">A</a> <a id="2346" href="4-22.html#2346" class="Bound">B</a> <a id="2348" class="Symbol">:</a> <a id="2350" class="PrimitiveType">Set</a><a id="2353" class="Symbol">}</a> <a id="2355" class="Symbol">{</a><a id="2356" href="4-22.html#2356" class="Bound">E</a> <a id="2358" class="Symbol">:</a> <a id="2360" href="4-22.html#2344" class="Bound">A</a> <a id="2362" href="4-22.html#2270" class="Datatype Operator">+</a> <a id="2364" href="4-22.html#2346" class="Bound">B</a> <a id="2366" class="Symbol">→</a> <a id="2368" class="PrimitiveType">Set</a><a id="2371" class="Symbol">}</a> <a id="2373" class="Symbol">→</a> <a id="2375" class="Symbol">((</a><a id="2377" href="4-22.html#2377" class="Bound">a</a> <a id="2379" class="Symbol">:</a> <a id="2381" href="4-22.html#2344" class="Bound">A</a><a id="2382" class="Symbol">)</a> <a id="2384" class="Symbol">→</a> <a id="2386" href="4-22.html#2356" class="Bound">E</a> <a id="2388" class="Symbol">(</a><a id="2389" href="4-22.html#2300" class="InductiveConstructor">inl</a> <a id="2393" href="4-22.html#2377" class="Bound">a</a><a id="2394" class="Symbol">))</a> <a id="2397" class="Symbol">→</a> <a id="2399" class="Symbol">((</a><a id="2401" href="4-22.html#2401" class="Bound">b</a> <a id="2403" class="Symbol">:</a> <a id="2405" href="4-22.html#2346" class="Bound">B</a><a id="2406" class="Symbol">)</a> <a id="2408" class="Symbol">→</a> <a id="2410" href="4-22.html#2356" class="Bound">E</a> <a id="2412" class="Symbol">(</a><a id="2413" href="4-22.html#2318" class="InductiveConstructor">inr</a> <a id="2417" href="4-22.html#2401" class="Bound">b</a><a id="2418" class="Symbol">))</a> <a id="2421" class="Symbol">→</a> <a id="2423" class="Symbol">((</a><a id="2425" href="4-22.html#2425" class="Bound">x</a> <a id="2427" class="Symbol">:</a> <a id="2429" href="4-22.html#2344" class="Bound">A</a> <a id="2431" href="4-22.html#2270" class="Datatype Operator">+</a> <a id="2433" href="4-22.html#2346" class="Bound">B</a><a id="2434" class="Symbol">)</a> <a id="2436" class="Symbol">→</a> <a id="2438" href="4-22.html#2356" class="Bound">E</a> <a id="2440" href="4-22.html#2425" class="Bound">x</a><a id="2441" class="Symbol">)</a>
<a id="2443" href="4-22.html#2335" class="Function">+-rec</a> <a id="2449" href="4-22.html#2449" class="Bound">f</a> <a id="2451" href="4-22.html#2451" class="Bound">g</a> <a id="2453" class="Symbol">(</a><a id="2454" href="4-22.html#2300" class="InductiveConstructor">inl</a> <a id="2458" href="4-22.html#2458" class="Bound">a</a><a id="2459" class="Symbol">)</a> <a id="2461" class="Symbol">=</a> <a id="2463" href="4-22.html#2449" class="Bound">f</a> <a id="2465" href="4-22.html#2458" class="Bound">a</a>
<a id="2467" href="4-22.html#2335" class="Function">+-rec</a> <a id="2473" href="4-22.html#2473" class="Bound">f</a> <a id="2475" href="4-22.html#2475" class="Bound">g</a> <a id="2477" class="Symbol">(</a><a id="2478" href="4-22.html#2318" class="InductiveConstructor">inr</a> <a id="2482" href="4-22.html#2482" class="Bound">b</a><a id="2483" class="Symbol">)</a> <a id="2485" class="Symbol">=</a> <a id="2487" href="4-22.html#2475" class="Bound">g</a> <a id="2489" href="4-22.html#2482" class="Bound">b</a>

<a id="2492" class="Keyword">data</a> <a id="_×_"></a><a id="2497" href="4-22.html#2497" class="Datatype Operator">_×_</a> <a id="2501" class="Symbol">(</a><a id="2502" href="4-22.html#2502" class="Bound">A</a> <a id="2504" href="4-22.html#2504" class="Bound">B</a> <a id="2506" class="Symbol">:</a> <a id="2508" class="PrimitiveType">Set</a><a id="2511" class="Symbol">)</a> <a id="2513" class="Symbol">:</a> <a id="2515" class="PrimitiveType">Set</a> <a id="2519" class="Keyword">where</a>
  <a id="_×_.pair"></a><a id="2527" href="4-22.html#2527" class="InductiveConstructor">pair</a> <a id="2532" class="Symbol">:</a> <a id="2534" href="4-22.html#2502" class="Bound">A</a> <a id="2536" class="Symbol">→</a> <a id="2538" href="4-22.html#2504" class="Bound">B</a> <a id="2540" class="Symbol">→</a> <a id="2542" href="4-22.html#2502" class="Bound">A</a> <a id="2544" href="4-22.html#2497" class="Datatype Operator">×</a> <a id="2546" href="4-22.html#2504" class="Bound">B</a>

<a id="×-rec"></a><a id="2549" href="4-22.html#2549" class="Function">×-rec</a> <a id="2555" class="Symbol">:</a> <a id="2557" class="Symbol">{</a><a id="2558" href="4-22.html#2558" class="Bound">A</a> <a id="2560" href="4-22.html#2560" class="Bound">B</a> <a id="2562" class="Symbol">:</a> <a id="2564" class="PrimitiveType">Set</a><a id="2567" class="Symbol">}</a> <a id="2569" class="Symbol">{</a><a id="2570" href="4-22.html#2570" class="Bound">E</a> <a id="2572" class="Symbol">:</a> <a id="2574" href="4-22.html#2558" class="Bound">A</a> <a id="2576" href="4-22.html#2497" class="Datatype Operator">×</a> <a id="2578" href="4-22.html#2560" class="Bound">B</a> <a id="2580" class="Symbol">→</a> <a id="2582" class="PrimitiveType">Set</a><a id="2585" class="Symbol">}</a> <a id="2587" class="Symbol">→</a> <a id="2589" class="Symbol">((</a><a id="2591" href="4-22.html#2591" class="Bound">a</a> <a id="2593" class="Symbol">:</a> <a id="2595" href="4-22.html#2558" class="Bound">A</a><a id="2596" class="Symbol">)</a> <a id="2598" class="Symbol">→</a> <a id="2600" class="Symbol">(</a><a id="2601" href="4-22.html#2601" class="Bound">b</a> <a id="2603" class="Symbol">:</a> <a id="2605" href="4-22.html#2560" class="Bound">B</a><a id="2606" class="Symbol">)</a> <a id="2608" class="Symbol">→</a> <a id="2610" href="4-22.html#2570" class="Bound">E</a> <a id="2612" class="Symbol">(</a><a id="2613" href="4-22.html#2527" class="InductiveConstructor">pair</a> <a id="2618" href="4-22.html#2591" class="Bound">a</a> <a id="2620" href="4-22.html#2601" class="Bound">b</a><a id="2621" class="Symbol">))</a> <a id="2624" class="Symbol">→</a> <a id="2626" class="Symbol">((</a><a id="2628" href="4-22.html#2628" class="Bound">x</a> <a id="2630" class="Symbol">:</a> <a id="2632" href="4-22.html#2558" class="Bound">A</a> <a id="2634" href="4-22.html#2497" class="Datatype Operator">×</a> <a id="2636" href="4-22.html#2560" class="Bound">B</a><a id="2637" class="Symbol">)</a> <a id="2639" class="Symbol">→</a> <a id="2641" href="4-22.html#2570" class="Bound">E</a> <a id="2643" href="4-22.html#2628" class="Bound">x</a><a id="2644" class="Symbol">)</a>
<a id="2646" href="4-22.html#2549" class="Function">×-rec</a> <a id="2652" href="4-22.html#2652" class="Bound">f</a> <a id="2654" class="Symbol">(</a><a id="2655" href="4-22.html#2527" class="InductiveConstructor">pair</a> <a id="2660" href="4-22.html#2660" class="Bound">a</a> <a id="2662" href="4-22.html#2662" class="Bound">b</a><a id="2663" class="Symbol">)</a> <a id="2665" class="Symbol">=</a> <a id="2667" href="4-22.html#2652" class="Bound">f</a> <a id="2669" href="4-22.html#2660" class="Bound">a</a> <a id="2671" href="4-22.html#2662" class="Bound">b</a>

<a id="2674" class="Keyword">data</a> <a id="List"></a><a id="2679" href="4-22.html#2679" class="Datatype">List</a> <a id="2684" class="Symbol">(</a><a id="2685" href="4-22.html#2685" class="Bound">A</a> <a id="2687" class="Symbol">:</a> <a id="2689" class="PrimitiveType">Set</a><a id="2692" class="Symbol">)</a> <a id="2694" class="Symbol">:</a> <a id="2696" class="PrimitiveType">Set</a> <a id="2700" class="Keyword">where</a>
  <a id="List.nil"></a><a id="2708" href="4-22.html#2708" class="InductiveConstructor">nil</a> <a id="2712" class="Symbol">:</a> <a id="2714" href="4-22.html#2679" class="Datatype">List</a> <a id="2719" href="4-22.html#2685" class="Bound">A</a>
  <a id="List.cons"></a><a id="2723" href="4-22.html#2723" class="InductiveConstructor">cons</a> <a id="2728" class="Symbol">:</a> <a id="2730" href="4-22.html#2685" class="Bound">A</a> <a id="2732" class="Symbol">→</a> <a id="2734" href="4-22.html#2679" class="Datatype">List</a> <a id="2739" href="4-22.html#2685" class="Bound">A</a> <a id="2741" class="Symbol">→</a> <a id="2743" href="4-22.html#2679" class="Datatype">List</a> <a id="2748" href="4-22.html#2685" class="Bound">A</a>

<a id="List-rec"></a><a id="2751" href="4-22.html#2751" class="Function">List-rec</a> <a id="2760" class="Symbol">:</a> <a id="2762" class="Symbol">{</a><a id="2763" href="4-22.html#2763" class="Bound">A</a> <a id="2765" class="Symbol">:</a> <a id="2767" class="PrimitiveType">Set</a><a id="2770" class="Symbol">}</a> <a id="2772" class="Symbol">{</a><a id="2773" href="4-22.html#2773" class="Bound">E</a> <a id="2775" class="Symbol">:</a> <a id="2777" href="4-22.html#2679" class="Datatype">List</a> <a id="2782" href="4-22.html#2763" class="Bound">A</a> <a id="2784" class="Symbol">→</a> <a id="2786" class="PrimitiveType">Set</a><a id="2789" class="Symbol">}</a> <a id="2791" class="Symbol">→</a> <a id="2793" href="4-22.html#2773" class="Bound">E</a> <a id="2795" href="4-22.html#2708" class="InductiveConstructor">nil</a> <a id="2799" class="Symbol">→</a> <a id="2801" class="Symbol">((</a><a id="2803" href="4-22.html#2803" class="Bound">a</a> <a id="2805" class="Symbol">:</a> <a id="2807" href="4-22.html#2763" class="Bound">A</a><a id="2808" class="Symbol">)</a> <a id="2810" class="Symbol">→</a> <a id="2812" class="Symbol">(</a><a id="2813" href="4-22.html#2813" class="Bound">l</a> <a id="2815" class="Symbol">:</a> <a id="2817" href="4-22.html#2679" class="Datatype">List</a> <a id="2822" href="4-22.html#2763" class="Bound">A</a><a id="2823" class="Symbol">)</a> <a id="2825" class="Symbol">→</a> <a id="2827" href="4-22.html#2773" class="Bound">E</a> <a id="2829" href="4-22.html#2813" class="Bound">l</a> <a id="2831" class="Symbol">→</a> <a id="2833" href="4-22.html#2773" class="Bound">E</a> <a id="2835" class="Symbol">(</a><a id="2836" href="4-22.html#2723" class="InductiveConstructor">cons</a> <a id="2841" href="4-22.html#2803" class="Bound">a</a> <a id="2843" href="4-22.html#2813" class="Bound">l</a><a id="2844" class="Symbol">))</a> <a id="2847" class="Symbol">→</a> <a id="2849" class="Symbol">((</a><a id="2851" href="4-22.html#2851" class="Bound">x</a> <a id="2853" class="Symbol">:</a> <a id="2855" href="4-22.html#2679" class="Datatype">List</a> <a id="2860" href="4-22.html#2763" class="Bound">A</a><a id="2861" class="Symbol">)</a> <a id="2863" class="Symbol">→</a> <a id="2865" href="4-22.html#2773" class="Bound">E</a> <a id="2867" href="4-22.html#2851" class="Bound">x</a><a id="2868" class="Symbol">)</a>
<a id="2870" href="4-22.html#2751" class="Function">List-rec</a> <a id="2879" href="4-22.html#2879" class="Bound">e</a> <a id="2881" href="4-22.html#2881" class="Bound">f</a> <a id="2883" href="4-22.html#2708" class="InductiveConstructor">nil</a> <a id="2887" class="Symbol">=</a> <a id="2889" href="4-22.html#2879" class="Bound">e</a>
<a id="2891" href="4-22.html#2751" class="Function">List-rec</a> <a id="2900" href="4-22.html#2900" class="Bound">e</a> <a id="2902" href="4-22.html#2902" class="Bound">f</a> <a id="2904" class="Symbol">(</a><a id="2905" href="4-22.html#2723" class="InductiveConstructor">cons</a> <a id="2910" href="4-22.html#2910" class="Bound">a</a> <a id="2912" href="4-22.html#2912" class="Bound">l</a><a id="2913" class="Symbol">)</a> <a id="2915" class="Symbol">=</a> <a id="2917" href="4-22.html#2902" class="Bound">f</a> <a id="2919" href="4-22.html#2910" class="Bound">a</a> <a id="2921" href="4-22.html#2912" class="Bound">l</a> <a id="2923" class="Symbol">(</a><a id="2924" href="4-22.html#2751" class="Function">List-rec</a> <a id="2933" href="4-22.html#2900" class="Bound">e</a> <a id="2935" href="4-22.html#2902" class="Bound">f</a> <a id="2937" href="4-22.html#2912" class="Bound">l</a><a id="2938" class="Symbol">)</a>

<a id="2941" class="Comment">-- 例をたくさん見ると、rec の型が構成子の形から決まっていることが感じられる。</a>


<a id="2986" class="Comment">-- inductive family</a>
<a id="3006" class="Comment">-- 上では単なる type を inductive に定めたが、type family (fibration) も inductive に定められる。</a>

<a id="3084" class="Comment">-- (unbased) identity type</a>
<a id="3111" class="Keyword">data</a> <a id="Id"></a><a id="3116" href="4-22.html#3116" class="Datatype">Id</a> <a id="3119" class="Symbol">{</a><a id="3120" href="4-22.html#3120" class="Bound">A</a> <a id="3122" class="Symbol">:</a> <a id="3124" class="PrimitiveType">Set</a><a id="3127" class="Symbol">}</a> <a id="3129" class="Symbol">:</a> <a id="3131" href="4-22.html#3120" class="Bound">A</a> <a id="3133" class="Symbol">→</a> <a id="3135" href="4-22.html#3120" class="Bound">A</a> <a id="3137" class="Symbol">→</a> <a id="3139" class="PrimitiveType">Set</a> <a id="3143" class="Keyword">where</a>
  <a id="Id.refl"></a><a id="3151" href="4-22.html#3151" class="InductiveConstructor">refl</a> <a id="3156" class="Symbol">:</a> <a id="3158" class="Symbol">(</a><a id="3159" href="4-22.html#3159" class="Bound">x</a> <a id="3161" class="Symbol">:</a> <a id="3163" href="4-22.html#3120" class="Bound">A</a><a id="3164" class="Symbol">)</a> <a id="3166" class="Symbol">→</a> <a id="3168" href="4-22.html#3116" class="Datatype">Id</a> <a id="3171" href="4-22.html#3159" class="Bound">x</a> <a id="3173" href="4-22.html#3159" class="Bound">x</a>

<a id="Id-rec"></a><a id="3176" href="4-22.html#3176" class="Function">Id-rec</a> <a id="3183" class="Symbol">:</a> <a id="3185" class="Symbol">{</a><a id="3186" href="4-22.html#3186" class="Bound">A</a> <a id="3188" class="Symbol">:</a> <a id="3190" class="PrimitiveType">Set</a><a id="3193" class="Symbol">}</a> <a id="3195" class="Symbol">{</a><a id="3196" href="4-22.html#3196" class="Bound">E</a> <a id="3198" class="Symbol">:</a> <a id="3200" class="Symbol">(</a><a id="3201" href="4-22.html#3201" class="Bound">x</a> <a id="3203" href="4-22.html#3203" class="Bound">y</a> <a id="3205" class="Symbol">:</a> <a id="3207" href="4-22.html#3186" class="Bound">A</a><a id="3208" class="Symbol">)</a> <a id="3210" class="Symbol">→</a> <a id="3212" href="4-22.html#3116" class="Datatype">Id</a> <a id="3215" href="4-22.html#3201" class="Bound">x</a> <a id="3217" href="4-22.html#3203" class="Bound">y</a> <a id="3219" class="Symbol">→</a> <a id="3221" class="PrimitiveType">Set</a><a id="3224" class="Symbol">}</a> <a id="3226" class="Symbol">→</a> <a id="3228" class="Symbol">((</a><a id="3230" href="4-22.html#3230" class="Bound">x</a> <a id="3232" class="Symbol">:</a> <a id="3234" href="4-22.html#3186" class="Bound">A</a><a id="3235" class="Symbol">)</a> <a id="3237" class="Symbol">→</a> <a id="3239" href="4-22.html#3196" class="Bound">E</a> <a id="3241" href="4-22.html#3230" class="Bound">x</a> <a id="3243" href="4-22.html#3230" class="Bound">x</a> <a id="3245" class="Symbol">(</a><a id="3246" href="4-22.html#3151" class="InductiveConstructor">refl</a> <a id="3251" href="4-22.html#3230" class="Bound">x</a><a id="3252" class="Symbol">))</a> <a id="3255" class="Symbol">→</a> <a id="3257" class="Symbol">((</a><a id="3259" href="4-22.html#3259" class="Bound">x</a> <a id="3261" href="4-22.html#3261" class="Bound">y</a> <a id="3263" class="Symbol">:</a> <a id="3265" href="4-22.html#3186" class="Bound">A</a><a id="3266" class="Symbol">)</a> <a id="3268" class="Symbol">→</a> <a id="3270" class="Symbol">(</a><a id="3271" href="4-22.html#3271" class="Bound">v</a> <a id="3273" class="Symbol">:</a> <a id="3275" href="4-22.html#3116" class="Datatype">Id</a> <a id="3278" href="4-22.html#3259" class="Bound">x</a> <a id="3280" href="4-22.html#3261" class="Bound">y</a><a id="3281" class="Symbol">)</a> <a id="3283" class="Symbol">→</a> <a id="3285" href="4-22.html#3196" class="Bound">E</a> <a id="3287" href="4-22.html#3259" class="Bound">x</a> <a id="3289" href="4-22.html#3261" class="Bound">y</a> <a id="3291" href="4-22.html#3271" class="Bound">v</a><a id="3292" class="Symbol">)</a>
<a id="3294" href="4-22.html#3176" class="Function">Id-rec</a> <a id="3301" href="4-22.html#3301" class="Bound">e</a> <a id="3303" href="4-22.html#3303" class="Bound">x</a> <a id="3305" href="4-22.html#3303" class="Bound">x</a> <a id="3307" class="Symbol">(</a><a id="3308" href="4-22.html#3151" class="InductiveConstructor">refl</a> <a id="3313" href="4-22.html#3303" class="Bound">x</a><a id="3314" class="Symbol">)</a> <a id="3316" class="Symbol">=</a> <a id="3318" href="4-22.html#3301" class="Bound">e</a> <a id="3320" href="4-22.html#3303" class="Bound">x</a>

<a id="3323" class="Comment">-- 「各 x : A に対して、Id x x が refl x から自由に生成される」のではなく、「二つの A（あるいは A × A）で添え字づけられた type family Id が refl から生成される」。</a>
<a id="3433" class="Comment">-- 前者の解釈をすると、Id x x が Unit と &quot;等しく&quot; なりそうだが、一般にはそうとは限らない（A が S^1 なら Id x x は整数全体のなす型 Z と &quot;等しい&quot;）。</a>

<a id="3529" class="Comment">-- based identity type</a>
<a id="3552" class="Keyword">data</a> <a id="bId"></a><a id="3557" href="4-22.html#3557" class="Datatype">bId</a> <a id="3561" class="Symbol">{</a><a id="3562" href="4-22.html#3562" class="Bound">A</a> <a id="3564" class="Symbol">:</a> <a id="3566" class="PrimitiveType">Set</a><a id="3569" class="Symbol">}</a> <a id="3571" class="Symbol">(</a><a id="3572" href="4-22.html#3572" class="Bound">a</a> <a id="3574" class="Symbol">:</a> <a id="3576" href="4-22.html#3562" class="Bound">A</a><a id="3577" class="Symbol">)</a> <a id="3579" class="Symbol">:</a> <a id="3581" href="4-22.html#3562" class="Bound">A</a> <a id="3583" class="Symbol">→</a> <a id="3585" class="PrimitiveType">Set</a> <a id="3589" class="Keyword">where</a>
  <a id="bId.brefl"></a><a id="3597" href="4-22.html#3597" class="InductiveConstructor">brefl</a> <a id="3603" class="Symbol">:</a> <a id="3605" href="4-22.html#3557" class="Datatype">bId</a> <a id="3609" href="4-22.html#3572" class="Bound">a</a> <a id="3611" href="4-22.html#3572" class="Bound">a</a>

<a id="bId-rec"></a><a id="3614" href="4-22.html#3614" class="Function">bId-rec</a> <a id="3622" class="Symbol">:</a> <a id="3624" class="Symbol">{</a><a id="3625" href="4-22.html#3625" class="Bound">A</a> <a id="3627" class="Symbol">:</a> <a id="3629" class="PrimitiveType">Set</a><a id="3632" class="Symbol">}</a> <a id="3634" class="Symbol">{</a><a id="3635" href="4-22.html#3635" class="Bound">a</a> <a id="3637" class="Symbol">:</a> <a id="3639" href="4-22.html#3625" class="Bound">A</a><a id="3640" class="Symbol">}</a> <a id="3642" class="Symbol">{</a><a id="3643" href="4-22.html#3643" class="Bound">E</a> <a id="3645" class="Symbol">:</a> <a id="3647" class="Symbol">(</a><a id="3648" href="4-22.html#3648" class="Bound">x</a> <a id="3650" class="Symbol">:</a> <a id="3652" href="4-22.html#3625" class="Bound">A</a><a id="3653" class="Symbol">)</a> <a id="3655" class="Symbol">→</a> <a id="3657" href="4-22.html#3557" class="Datatype">bId</a> <a id="3661" href="4-22.html#3635" class="Bound">a</a> <a id="3663" href="4-22.html#3648" class="Bound">x</a> <a id="3665" class="Symbol">→</a> <a id="3667" class="PrimitiveType">Set</a><a id="3670" class="Symbol">}</a> <a id="3672" class="Symbol">→</a> <a id="3674" href="4-22.html#3643" class="Bound">E</a> <a id="3676" href="4-22.html#3635" class="Bound">a</a> <a id="3678" href="4-22.html#3597" class="InductiveConstructor">brefl</a> <a id="3684" class="Symbol">→</a> <a id="3686" class="Symbol">((</a><a id="3688" href="4-22.html#3688" class="Bound">x</a> <a id="3690" class="Symbol">:</a> <a id="3692" href="4-22.html#3625" class="Bound">A</a><a id="3693" class="Symbol">)</a> <a id="3695" class="Symbol">→</a> <a id="3697" class="Symbol">(</a><a id="3698" href="4-22.html#3698" class="Bound">v</a> <a id="3700" class="Symbol">:</a> <a id="3702" href="4-22.html#3557" class="Datatype">bId</a> <a id="3706" href="4-22.html#3635" class="Bound">a</a> <a id="3708" href="4-22.html#3688" class="Bound">x</a><a id="3709" class="Symbol">)</a> <a id="3711" class="Symbol">→</a> <a id="3713" href="4-22.html#3643" class="Bound">E</a> <a id="3715" href="4-22.html#3688" class="Bound">x</a> <a id="3717" href="4-22.html#3698" class="Bound">v</a><a id="3718" class="Symbol">)</a>
<a id="3720" href="4-22.html#3614" class="Function">bId-rec</a> <a id="3728" href="4-22.html#3728" class="Bound">e</a> <a id="3730" href="4-22.html#3730" class="Bound">a</a> <a id="3732" href="4-22.html#3597" class="InductiveConstructor">brefl</a> <a id="3738" class="Symbol">=</a> <a id="3740" href="4-22.html#3728" class="Bound">e</a>

<a id="3743" class="Comment">-- mapping cocylinder (mapping path fibration, mapping path space) of f : A → B（homotopy fiber がなす fibration）</a>
<a id="3853" class="Keyword">data</a> <a id="hFiber"></a><a id="3858" href="4-22.html#3858" class="Datatype">hFiber</a> <a id="3865" class="Symbol">{</a><a id="3866" href="4-22.html#3866" class="Bound">A</a> <a id="3868" href="4-22.html#3868" class="Bound">B</a> <a id="3870" class="Symbol">:</a> <a id="3872" class="PrimitiveType">Set</a><a id="3875" class="Symbol">}</a> <a id="3877" class="Symbol">(</a><a id="3878" href="4-22.html#3878" class="Bound">f</a> <a id="3880" class="Symbol">:</a> <a id="3882" href="4-22.html#3866" class="Bound">A</a> <a id="3884" class="Symbol">→</a> <a id="3886" href="4-22.html#3868" class="Bound">B</a><a id="3887" class="Symbol">)</a> <a id="3889" class="Symbol">:</a> <a id="3891" href="4-22.html#3868" class="Bound">B</a> <a id="3893" class="Symbol">→</a> <a id="3895" class="PrimitiveType">Set</a> <a id="3899" class="Keyword">where</a>
  <a id="hFiber.i"></a><a id="3907" href="4-22.html#3907" class="InductiveConstructor">i</a> <a id="3909" class="Symbol">:</a> <a id="3911" class="Symbol">(</a><a id="3912" href="4-22.html#3912" class="Bound">x</a> <a id="3914" class="Symbol">:</a> <a id="3916" href="4-22.html#3866" class="Bound">A</a><a id="3917" class="Symbol">)</a> <a id="3919" class="Symbol">→</a> <a id="3921" href="4-22.html#3858" class="Datatype">hFiber</a> <a id="3928" href="4-22.html#3878" class="Bound">f</a> <a id="3930" class="Symbol">(</a><a id="3931" href="4-22.html#3878" class="Bound">f</a> <a id="3933" href="4-22.html#3912" class="Bound">x</a><a id="3934" class="Symbol">)</a>

<a id="hFiber-rec"></a><a id="3937" href="4-22.html#3937" class="Function">hFiber-rec</a> <a id="3948" class="Symbol">:</a> <a id="3950" class="Symbol">{</a><a id="3951" href="4-22.html#3951" class="Bound">A</a> <a id="3953" href="4-22.html#3953" class="Bound">B</a> <a id="3955" class="Symbol">:</a> <a id="3957" class="PrimitiveType">Set</a><a id="3960" class="Symbol">}</a> <a id="3962" class="Symbol">{</a><a id="3963" href="4-22.html#3963" class="Bound">f</a> <a id="3965" class="Symbol">:</a> <a id="3967" href="4-22.html#3951" class="Bound">A</a> <a id="3969" class="Symbol">→</a> <a id="3971" href="4-22.html#3953" class="Bound">B</a><a id="3972" class="Symbol">}</a> <a id="3974" class="Symbol">{</a><a id="3975" href="4-22.html#3975" class="Bound">E</a> <a id="3977" class="Symbol">:</a> <a id="3979" class="Symbol">(</a><a id="3980" href="4-22.html#3980" class="Bound">y</a> <a id="3982" class="Symbol">:</a> <a id="3984" href="4-22.html#3953" class="Bound">B</a><a id="3985" class="Symbol">)</a> <a id="3987" class="Symbol">→</a> <a id="3989" href="4-22.html#3858" class="Datatype">hFiber</a> <a id="3996" href="4-22.html#3963" class="Bound">f</a> <a id="3998" href="4-22.html#3980" class="Bound">y</a> <a id="4000" class="Symbol">→</a> <a id="4002" class="PrimitiveType">Set</a><a id="4005" class="Symbol">}</a> <a id="4007" class="Symbol">→</a> <a id="4009" class="Symbol">((</a><a id="4011" href="4-22.html#4011" class="Bound">x</a> <a id="4013" class="Symbol">:</a> <a id="4015" href="4-22.html#3951" class="Bound">A</a><a id="4016" class="Symbol">)</a> <a id="4018" class="Symbol">→</a> <a id="4020" href="4-22.html#3975" class="Bound">E</a> <a id="4022" class="Symbol">(</a><a id="4023" href="4-22.html#3963" class="Bound">f</a> <a id="4025" href="4-22.html#4011" class="Bound">x</a><a id="4026" class="Symbol">)</a> <a id="4028" class="Symbol">(</a><a id="4029" href="4-22.html#3907" class="InductiveConstructor">i</a> <a id="4031" href="4-22.html#4011" class="Bound">x</a><a id="4032" class="Symbol">))</a> <a id="4035" class="Symbol">→</a> <a id="4037" class="Symbol">((</a><a id="4039" href="4-22.html#4039" class="Bound">y</a> <a id="4041" class="Symbol">:</a> <a id="4043" href="4-22.html#3953" class="Bound">B</a><a id="4044" class="Symbol">)</a> <a id="4046" class="Symbol">→</a> <a id="4048" class="Symbol">(</a><a id="4049" href="4-22.html#4049" class="Bound">v</a> <a id="4051" class="Symbol">:</a> <a id="4053" href="4-22.html#3858" class="Datatype">hFiber</a> <a id="4060" href="4-22.html#3963" class="Bound">f</a> <a id="4062" href="4-22.html#4039" class="Bound">y</a><a id="4063" class="Symbol">)</a> <a id="4065" class="Symbol">→</a> <a id="4067" href="4-22.html#3975" class="Bound">E</a> <a id="4069" href="4-22.html#4039" class="Bound">y</a> <a id="4071" href="4-22.html#4049" class="Bound">v</a><a id="4072" class="Symbol">)</a>
<a id="4074" href="4-22.html#3937" class="Function">hFiber-rec</a> <a id="4085" class="Symbol">{</a><a id="4086" class="Argument">f</a> <a id="4088" class="Symbol">=</a> <a id="4090" href="4-22.html#4090" class="Bound">f</a><a id="4091" class="Symbol">}</a> <a id="4093" href="4-22.html#4093" class="Bound">g</a> <a id="4095" class="DottedPattern Symbol">.(</a><a id="4097" href="4-22.html#4090" class="DottedPattern Bound">f</a> <a id="4099" href="4-22.html#4105" class="DottedPattern Bound">x</a><a id="4100" class="DottedPattern Symbol">)</a> <a id="4102" class="Symbol">(</a><a id="4103" href="4-22.html#3907" class="InductiveConstructor">i</a> <a id="4105" href="4-22.html#4105" class="Bound">x</a><a id="4106" class="Symbol">)</a> <a id="4108" class="Symbol">=</a> <a id="4110" href="4-22.html#4093" class="Bound">g</a> <a id="4112" href="4-22.html#4105" class="Bound">x</a>

<a id="4115" class="Comment">-- hFiber (Δ : A → A × A) は (unbased) identity type と（ホモトピー）同値。</a>
<a id="4179" class="Comment">-- hFiber ((λ x. a) : Unit → A) は based identity type と同値。</a>

<a id="4239" class="Comment">-- ホモトピー論の観点から見た説明</a>
<a id="4258" class="Comment">-- 一般に fibration であるとは限らない連続写像 f : A → B から自然に fibration E → B を作ることができる。</a>
<a id="4332" class="Comment">-- f は trivial cofibration A → E（特にこれはホモトピー同値）と fibration E → B に分解される。</a>
<a id="4404" class="Comment">-- 後者は inductive family (hFiber f) に対応する fibration になっている。</a>
<a id="4463" class="Comment">-- 例えば (λ x. base) : Unit → S^1 は fibration ではないが、始域が Unit とホモトピー同値なままになるように Unit を広げていって fibration E → S^1 を作ることを考える。</a>
<a id="4582" class="Comment">-- fibration E → S^1 は螺旋状の fibration とホモトピー同値になりそうだというのが感覚的にわかる。</a>
</pre></body></html>